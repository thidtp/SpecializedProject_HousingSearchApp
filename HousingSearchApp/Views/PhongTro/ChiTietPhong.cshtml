@model HousingSearchApp.Models.PHONG
@{
    ViewBag.Title = "Chi Tiết Phòng Trọ";
    Layout = "~/Views/Shared/_Layout1.cshtml";
}

<div class="container mt-10">
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mr-1 ml-1">
        <div class="md:col-span-3">
            <section id="tbay-breadcrumb" class="bg-rose-200 py-2 hidden md:flex">
                <div class="container mx-auto">
                    <div class="flex items-center justify-center h-full">
                        <ol class="flex breadcrumb p-0 m-0">
                            <li><a href="~/Home/Home" class="text-black hover:text-red-500 font-Montserrat hover:no-underline text-sm">Trang chủ</a></li>
                            <li class="mx-1">
                                <span class="content-slash px-2 text-black text-sm">/</span>
                            </li>
                            <li><a href="~/PhongTro/Index" class="text-black hover:text-red-500 font-Montserrat hover:no-underline text-sm">Phòng Trọ</a></li>
                            <li class="mx-1">
                                <span class="content-slash px-2 text-black text-sm">/</span>
                            </li>
                            <li class="font-bold text-black font-Montserrat text-sm self-center"><a href="@Url.Action("ChiTietPhong", "PhongTro", new { maPhong = Model.MAPHONG })" class="hover:text-red-500">@Model.TIEUDE</a></li>
                        </ol>
                    </div>
                </div>
            </section>
            <div class="article-category mt-3">
                <div class="flex items-center">
                    <a href="javascript:void();" class="text-xl font-bold"><span>@Model.TIEUDE</span></a>
                </div>
                <hr class="my-2">
            </div>
            <div class="border border-gray-300 mt-4 text-sm">
                <div class="flex">
                    <div class="w-8/12 pr-4 ">
                        <div class="mb-0 info-group rounded border border-gray-200 relative" style="height:70px;">
                            <span class="bg-rose-400 text-white text-center py-4 px-3 -mb-2 absolute top-0 left-0 inline-block w-36">
                                <i class="fas fa-map-marker-alt"></i> Địa chỉ
                            </span>
                            <p class="ml-40 text-black mt-2">@Model.DIACHI</p>
                        </div>
                        <div class="mb-0 info-group rounded border border-gray-200 relative" style="height:70px;">
                            <span class="bg-rose-400 text-white text-center py-4 px-3 -mb-2 absolute top-0 left-0 inline-block w-36">
                                <i class="fas fa-expand"></i> Diện tích
                            </span>
                            <p class="ml-40 mt-4">@Model.DIENTICH m<sup>2</sup></p>
                        </div>
                        <div class="mb-0 info-group rounded border border-gray-200 relative" style="height:70px;">
                            <span class="bg-rose-400 text-white text-center py-4 px-3 -mb-2 absolute top-0 left-0 inline-block w-36">
                                <i class="fas fa-home"></i> Loại phòng
                            </span>
                            <p class="ml-40 mt-4">@Model.LOAIPHONG.TENLP</p>
                        </div>
                        <div class="mb-0 info-group rounded border border-gray-200 relative" style="height:70px;">
                            <span class="bg-rose-400 text-white text-center py-4 px-3 -mb-2 absolute top-0 left-0 inline-block w-36">
                                <i class="fas fa-cogs"></i> Tiện ích
                            </span>
                            <p class="ml-40 text-black mt-2">@Model.TIENICH</p>
                        </div>
                    </div>
                    <div class="w-4/12 pl-4 bg-rose-400 text-white">
                        <div class="mb-0 mt-3">
                            <p><i class="fas fa-phone"></i> Thông tin liên hệ</p>
                        </div>
                        <div class="mb-4 mt-2">
                            <hr class="border-t-2 border-gray-300">
                        </div>
                        <div class="mb-4">
                            <p><i class="fas fa-dollar-sign mr-2"></i>@string.Format("{0:N0}", Model.GIATHUE)<sup>đ</sup>/ tháng</p>
                        </div>
                        <div class="mb-4">
                            <a href=""><i class="fas fa-user mr-2"></i>@Model.NGUOIDUNG.TENND</a>
                        </div>
                        <div class="mb-4">
                            <p><i class="fas fa-mobile-alt mr-2"></i>@Model.NGUOIDUNG.SDT</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="swiper-container main-swiper mx-auto mt-4 h-[400px] w-full z-[1] overflow-hidden relative">
                <div class="swiper-wrapper">
                    <!-- Slides -->
                    @foreach (var hinhAnh in Model.HINHANHs)
                    {
                        <div class="swiper-slide p-4"><img src="~/Image/DuLieu/Phong/@hinhAnh.TENFILEANH " style="width:auto" alt="Slide 1"></div>
                    }

                </div>
                <!-- Add Pagination -->
                <div class="swiper-pagination"></div>
            </div>
            <!-- Thêm Swiper container cho Thumbnails -->
            <div class="swiper-container thumbs-swiper mx-auto mt-4 h-[100px] w-full z-[1] overflow-hidden">
                <div class="swiper-wrapper">
                    <!-- Thumbnails -->
                    @{
                        int count_index = 0;
                    }
                    @foreach (var hinhAnh in Model.HINHANHs)
                    {
                        <div class="swiper-slide p-1" onclick="goToSlide(@count_index)">
                            <div class="thumbnail-item overflow-hidden h-[80px] border-4 border-transparent" id="thumbnail1">
                                <img src="~/Image/DuLieu/Phong/@hinhAnh.TENFILEANH" alt="Thumbnail 1" class="w-full h-full object-cover">
                            </div>
                        </div>
                        count_index++;
                    }
                </div>
            </div>
            <div>
                <div class="article-category mt-3">
                    <div class="flex items-center">
                        <p href="javascript:void();" class="text-xl font-bold"><span>THÔNG TIN MÔ TẢ</span></p>
                    </div>
                    <hr class="my-2">
                </div>
                <div class="p-4 bg-gray-200">
                    @Model.MOTA
                </div>
            </div>   
            <div style=" height: auto;">
                <div class="article-category mt-3">
                    <div class="flex items-center">
                        <p href="javascript:void();" class="text-xl font-bold"><span>BÌNH LUẬN</span></p>
                    </div>
                    <hr class="my-2">
                </div>
                @{ Html.RenderAction("Index", "DanhGia", new { maPhong = Model.MAPHONG }); }
            </div>
            <div>
                <section id="slider" class="pt-5" style="margin-bottom: 300px;">
                    <div class="container">
                        <div class="article-category mt-3">
                            <div class="flex items-center">
                                <p href="javascript:void();" class="text-xl font-bold"><span>NHỮNG PHÒNG LIÊN QUAN</span></p>
                            </div>
                            <hr class="my-2">
                        </div>
                        <div class="slider_product">
                            <button id="prev" class="btn bg-white-50">
                                <i class="las la-angle-left"></i>
                            </button>
                            <div class="card-content flex space-x-4 overflow-x-auto">
                                @{ Html.RenderAction("phongLienQuan","PhongTro");}
                            </div>
                            <button id="next" class="btn bg-white-50">
                                <i class="las la-angle-right"></i>
                            </button>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <div class="md:col-span-1">
            <div class="grid grid-cols-1 gap-4">
                <div class="col-span-1">
                    <div class="search-container bg-gray-200 p-4">
                        <div class="advance-search">
                            <div class="title">
                                <a id="submit_search" href="javascript:void(0);">
                                    <span class="fa fa-search"></span>
                                </a>Tìm kiếm nâng cao
                            </div>
                            <div class="shr mt-2">
                                <hr class="border-t-2 border-gray-300">
                            </div>
                            <form class="form">
                                <div class="form-group">
                                    <label for="district1" class="block text-sm font-medium text-gray-700">Quận/Huyện</label>
                                    <select id="district1" name="quanHuyen" class="districtSelect1 form-select" onchange="loadWards()">
                                        <option value="" disabled selected hidden>Chọn Quận/Huyện</option>
                                        <!-- Thêm các option cho dropdown district -->
                                        @{Html.RenderAction("getQuanHuyen", "Home");}
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="ward1" class="block text-sm font-medium text-gray-700">Phường/Xã</label>
                                    <select id="ward1" name="phuongXa" class="wardSelect1 form-select">
                                        <option value="" disabled selected hidden>Chọn Phường/Xã</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="roomType1" class="block text-sm font-medium text-gray-700">Loại phòng</label>
                                    <select id="roomType1" name="maloaiPhong" class="districtSelect1 form-select">
                                        <option value="" disabled selected hidden>Chọn Loại Phòng</option>
                                        @{Html.RenderAction("getLoaiPhong", "Home");}
                                    </select>
                                </div>
                                <div class="form-group price">
                                    <label class="block text-sm font-medium text-gray-700">Chọn khoảng giá</label>
                                    <div id="price_range" class="range-slider mt-4"></div>
                                    <div class="flex justify-between mt-2">
                                        <span id="price_min" class="text-sm text-gray-600">0 triệu</span>
                                        <span id="price_max" class="text-sm text-gray-600">50 triệu</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <button type="button" id="searchButton3" class="btn btn-primary">
                                        <span class="fa fa-search"></span> Tìm kiếm
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="sidebar-ads">
                        <img class="w-full h-auto" src="~/Image/Web/decor1.jpg" alt="">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="sidebar-social">
                    </div>
                </div>
                <div class="col-span-1">
                    <div class="grid grid-cols-1 gap-4">
                        <div class="col-span-1">
                            <div class="sidebar-ads">
                                <img class="w-full h-auto" src="~/Image/Web/decor2.jpg" alt="">
                            </div>
                        </div>
                        <div class="col-span-1">
                            <div class="sidebar-ads">
                                <img class="w-full h-auto" src="~/Image/Web/decor3.jpg" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
